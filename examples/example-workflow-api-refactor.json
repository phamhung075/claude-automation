{
  "workflow_name": "API Code Refactoring",
  "project_id": "your-project-id",
  "git_branch_name": "refactor/api-optimization",
  "goal": "Refactor existing API codebase to improve performance, maintainability, and follow DRY principles",

  "requirements": [
    "Identify and eliminate duplicate code across endpoints",
    "Extract common middleware logic into reusable functions",
    "Optimize database queries (reduce N+1 queries)",
    "Add comprehensive error handling",
    "Ensure all existing tests still pass after refactoring",
    "Update documentation to reflect changes"
  ],

  "constraints": {
    "max_time_hours": 16,
    "must_pass_tests": true,
    "require_code_review": true,
    "no_breaking_changes": true
  },

  "agents_to_use": [
    "system-architect-agent",
    "coding-agent",
    "efficiency-optimization-agent",
    "test-orchestrator-agent",
    "code-reviewer-agent",
    "documentation-agent"
  ],

  "expected_deliverables": {
    "code_files": [
      "api/middleware/common.py",
      "api/utils/database.py",
      "api/endpoints/*.py (refactored)"
    ],
    "test_files": [
      "tests/api/*.py (updated)"
    ],
    "documentation": [
      "docs/api/refactoring-notes.md"
    ]
  },

  "success_criteria": {
    "all_tests_passing": true,
    "code_duplication_reduced": ">=50%",
    "performance_improved": ">=30%",
    "code_review_approved": true,
    "no_breaking_api_changes": true
  }
}
